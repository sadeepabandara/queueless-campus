<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QueueLess Campus | Smart Appointment System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- ================= SECURITY HEADERS ================= -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="Cache-Control" content="no-store">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; style-src 'self' https://fonts.googleapis.com; font-src https://fonts.gstatic.com;">

  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ===================== NAVBAR ===================== -->
<nav class="navbar" aria-label="Main Navigation">
  <div class="nav-container">
    <div class="nav-logo">
      <h2>üéì QueueLess Campus</h2>
    </div>
    <ul class="nav-menu" id="navMenu">
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="appointment.html" id="bookLink">Book Appointment</a></li>
      <li><a href="login.html" id="staffLink">Staff Login</a></li>
      <li><a href="signup.html" id="signupLink">Sign Up</a></li>
      <li><a href="login.html" id="loginLink">Login</a></li>
    </ul>
  </div>
</nav>

<!-- ===================== HERO ===================== -->
<section class="hero-section">
  <div class="hero-content">
    <h1>Welcome to QueueLess Campus</h1>
    <p class="hero-subtitle">Smart Appointment & Queue Management System</p>
    <p class="hero-description">
      Eliminate physical queues by booking campus services online securely and efficiently.
    </p>
    <div class="hero-buttons">
      <a href="appointment.html" class="btn btn-primary" id="heroBookBtn">Book Appointment</a>
      <a href="login.html" class="btn btn-secondary" id="heroStaffBtn">Staff Login</a>
    </div>
  </div>
</section>

<!-- ===================== FEATURES ===================== -->
<section class="features-section">
  <h2 class="section-title">Why Choose QueueLess Campus?</h2>
  <div class="features-grid">
    <div class="feature-card">
      <div class="feature-icon">üìÖ</div>
      <h3>Easy Booking</h3>
      <p>Book appointments quickly through a secure and intuitive interface.</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">‚è±Ô∏è</div>
      <h3>Save Time</h3>
      <p>Minimize waiting and manage your schedule efficiently.</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üîî</div>
      <h3>Notifications</h3>
      <p>Stay informed with timely appointment alerts.</p>
    </div>
    <div class="feature-card">
      <div class="feature-icon">üìä</div>
      <h3>Staff Dashboard</h3>
      <p>Staff can securely manage appointments and queues.</p>
    </div>
  </div>
</section>

<!-- ===================== SERVICES ===================== -->
<section class="services-section">
  <h2 class="section-title">Available Services</h2>
  <div class="services-grid">
    <div class="service-item">
      <h4>Student Services</h4>
      <p>Academic advising, enrollment assistance, transcript requests.</p>
    </div>
    <div class="service-item">
      <h4>IT Support</h4>
      <p>Technical support, account setup, software assistance.</p>
    </div>
    <div class="service-item">
      <h4>Library Services</h4>
      <p>Research help, study rooms, book reservations.</p>
    </div>
    <div class="service-item">
      <h4>Financial Aid</h4>
      <p>Scholarships, payments, and financial counselling.</p>
    </div>
  </div>
</section>

<!-- ===================== FOOTER ===================== -->
<footer class="footer">
  <div class="footer-content">
    <div class="footer-section">
      <h4>Contact Us</h4>
      <p>üìß support@queueless.edu.au</p>
      <p>üìû (+61) 3 9918 9188</p>
      <p>üìç Deakin University</p>
    </div>
    <div class="footer-section">
      <h4>Quick Links</h4>
      <p><a href="index.html">Home</a></p>
      <p><a href="appointment.html">Book Appointment</a></p>
      <p><a href="login.html">Staff Login</a></p>
    </div>
    <div class="footer-section">
      <h4>About</h4>
      <p>&copy; 2025 QueueLess Campus</p>
      <p>SIT725 Group Project</p>
    </div>
  </div>
</footer>

<!-- ===================== SECURITY SCRIPT ===================== -->
<script defer>
  // ==========================
  // Security: Session Timeout
  // ==========================
  setTimeout(() => {
    localStorage.clear();
    alert("Session expired. Please login again.");
    window.location.href = "login.html";
  }, 20 * 60 * 1000);

  // ==========================
  // Security: Role-Based Navigation Control
  // ==========================
  const role = localStorage.getItem("userRole");

  const bookLink = document.getElementById("bookLink");
  const staffLink = document.getElementById("staffLink");
  const signupLink = document.getElementById("signupLink");
  const loginLink = document.getElementById("loginLink");
  const navMenu = document.getElementById("navMenu");

  if (role) {
    signupLink.style.display = "none";
    loginLink.style.display = "none";

    const logout = document.createElement("a");
    logout.textContent = "Logout";
    logout.href = "#";
    logout.onclick = () => {
      localStorage.clear();
      sessionStorage.clear();
      window.location.replace("login.html");
    };
    navMenu.appendChild(logout);
  }

  // ==========================
  // Security: Prevent Unauthorized Access
  // ==========================
  staffLink.addEventListener("click", function (e) {
    if (role !== "staff") {
      e.preventDefault();
      alert("Staff only area. Please login as staff.");
      window.location.href = "login.html";
    }
  });

  bookLink.addEventListener("click", function (e) {
    if (role !== "student") {
      e.preventDefault();
      alert("Students only. Please login as student.");
      window.location.href = "login.html";
    }
  });

  // ==========================
  // Security: UI Integrity Check
  // ==========================
  if (!document.querySelector(".hero-section")) {
    alert("UI integrity violation detected.");
    window.location.href = "login.html";
  }
</script>

</body>
</html>
